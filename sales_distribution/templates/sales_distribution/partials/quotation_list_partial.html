<div id="quotation-table" class="bg-white rounded border border-gray-200 overflow-hidden">
<div class="overflow-x-auto">
<table class="w-full table-fixed divide-y divide-gray-200 text-xs">
    <thead class="bg-gray-50">
        <tr>
            <th class="w-[11%] px-2 py-2 text-left text-[10px] font-medium text-gray-500 uppercase">Fin Year</th>
            <th class="w-[28%] px-2 py-2 text-left text-[10px] font-medium text-gray-500 uppercase">Customer Name</th>
            <th class="w-[11%] px-2 py-2 text-left text-[10px] font-medium text-gray-500 uppercase">Code</th>
            <th class="w-[15%] px-2 py-2 text-left text-[10px] font-medium text-gray-500 uppercase">Quotation No</th>
            <th class="w-[10%] px-2 py-2 text-left text-[10px] font-medium text-gray-500 uppercase">Enquiry</th>
            <th class="w-[11%] px-2 py-2 text-left text-[10px] font-medium text-gray-500 uppercase">Date</th>
            <th class="w-[7%] px-2 py-2 text-left text-[10px] font-medium text-gray-500 uppercase">Gen By</th>
            <th class="w-[7%] px-2 py-2 text-left text-[10px] font-medium text-gray-500 uppercase">Status</th>
        </tr>
    </thead>
    <tbody class="bg-white divide-y divide-gray-200">
        {% for quotation in quotations %}
        <tr id="quotation-{{ quotation.id }}" class="hover:bg-gray-50">
            <td class="px-2 py-2 whitespace-nowrap text-[11px] text-gray-600" title="{{ quotation.finyear_name }}">{{ quotation.finyear_name }}</td>
            <td class="px-2 py-2 text-[11px] truncate" title="{{ quotation.enqid.customername }}">
                <span class="text-gray-900">{{ quotation.enqid.customername|default:"-" }}</span>
            </td>
            <td class="px-2 py-2 whitespace-nowrap text-[11px] text-gray-600">{{ quotation.customerid }}</td>
            <td class="px-2 py-2 whitespace-nowrap text-[11px]">
                <a href="{% url 'sales_distribution:quotation-detail' quotation.id %}"
                   class="text-blue-600 hover:text-blue-900 hover:underline font-medium"
                   title="View quotation details">
                    {{ quotation.quotationno }}
                </a>
            </td>
            <td class="px-2 py-2 whitespace-nowrap text-[11px] text-gray-600">
                {% if quotation.enqid %}
                {{ quotation.enqid.enqid }}
                {% else %}
                <span class="text-gray-400">-</span>
                {% endif %}
            </td>
            <td class="px-2 py-2 whitespace-nowrap text-[11px] text-gray-600">{{ quotation.sysdate }}</td>
            <td class="px-2 py-2 text-[11px] truncate" title="{{ quotation.generated_by }}">
                <span class="text-gray-600">{{ quotation.generated_by }}</span>
            </td>
            <td class="px-2 py-2 whitespace-nowrap text-[11px]">
                {% if quotation.authorize == 1 %}
                <span class="px-2 py-1 text-[10px] rounded-full bg-purple-100 text-purple-800">Auth</span>
                {% elif quotation.approve == 1 %}
                <span class="px-2 py-1 text-[10px] rounded-full bg-blue-100 text-blue-800">Appr</span>
                {% elif quotation.checked == 1 %}
                <span class="px-2 py-1 text-[10px] rounded-full bg-yellow-100 text-yellow-800">Chkd</span>
                {% else %}
                <span class="px-2 py-1 text-[10px] rounded-full bg-gray-100 text-gray-800">Draft</span>
                {% endif %}
            </td>
        </tr>
        {% empty %}
        {% include 'core/components/empty_state.html' with
            in_table=True
            colspan=8
            title="No quotations found"
            message="Create one"
            action_url='sales_distribution:quotation-search'
            action_text="Create one"
        %}
        {% endfor %}
    </tbody>
</table>
</div>

{% include 'core/components/tables/pagination.html' with page_obj=page_obj is_paginated=is_paginated htmx_enabled=True htmx_target="#quotation-table" %}
</div>








