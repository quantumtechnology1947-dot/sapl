{% comment %}
Component: Data Table
Purpose: Reusable data table with consistent SAP Fiori-inspired compact styling
Supports both parameter-based and block-based usage

Parameter-based Usage:
  {% include 'core/components/tables/data_table.html' with
    headers=table_headers
    rows=object_list
    empty_message="No data found"
    show_actions=True
  %}

Block-based Usage (for complex tables):
  {% extends 'core/components/tables/data_table.html' %}
  {% block table_headers %}...{% endblock %}
  {% block table_rows %}...{% endblock %}

Parameters:
  - headers: List of header dicts with 'text', 'align', 'sortable', 'width' keys
  - rows: List of row dicts (each with 'cells' list and optional 'actions')
  - empty_message: Message when no data (optional)
  - show_actions: Boolean for action column (optional)
  - show_pagination: Boolean to show pagination (optional)
  - striped: Boolean for alternating row colors (optional)

Requirements: 3.1, 4.1, 4.2, 5.3, 8.1, 8.2, 8.3, 8.4, 8.5, 8.6, 8.7, 8.8, 8.9, 12.5
{% endcomment %}

<div class="bg-white border border-gray-200 rounded overflow-hidden">
    <div class="overflow-x-auto">
        <table class="w-full border-collapse">
            <thead>
                <tr class="bg-gray-50 border-b border-gray-200 h-8">
                    {% block table_headers %}
                        {% if headers %}
                            {% for header in headers %}
                                <th class="px-3 py-1 text-xs font-semibold text-gray-700 {% if header.align == 'center' %}text-center{% elif header.align == 'right' %}text-right{% else %}text-left{% endif %} {% if header.width %}{{ header.width }}{% endif %}">
                                    {% if header.sortable %}
                                        <button type="button" class="inline-flex items-center hover:text-sap-blue transition-colors">
                                            {{ header.text }}
                                            <svg class="ml-1 w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"/>
                                            </svg>
                                        </button>
                                    {% else %}
                                        {{ header.text }}
                                    {% endif %}
                                </th>
                            {% endfor %}
                            {% if show_actions %}
                                <th class="px-3 py-1 text-xs font-semibold text-gray-700 text-center">Actions</th>
                            {% endif %}
                        {% else %}
                            <th class="px-3 py-1 text-left text-xs font-semibold text-gray-700">Column 1</th>
                            <th class="px-3 py-1 text-left text-xs font-semibold text-gray-700">Column 2</th>
                        {% endif %}
                    {% endblock %}
                </tr>
            </thead>
            <tbody class="divide-y divide-gray-100">
                {% block table_rows %}
                    {% if rows %}
                        {% for row in rows %}
                            <tr class="h-8 hover:bg-gray-50 transition-colors {% if striped and forloop.counter|divisibleby:2 %}bg-gray-50/30{% endif %}">
                                {% for cell in row.cells %}
                                    <td class="px-3 py-1 text-xs text-gray-900">
                                        {{ cell }}
                                    </td>
                                {% endfor %}
                                {% if show_actions and row.actions %}
                                    <td class="px-3 py-1 text-xs text-center">
                                        {{ row.actions|safe }}
                                    </td>
                                {% endif %}
                            </tr>
                        {% endfor %}
                    {% else %}
                        <tr class="h-8 hover:bg-gray-50 transition-colors">
                            <td class="px-3 py-1 text-xs text-gray-700">Sample Data 1</td>
                            <td class="px-3 py-1 text-xs text-gray-700">Sample Data 2</td>
                        </tr>
                    {% endif %}
                {% endblock %}
                
                {% block table_empty %}
                    {% if show_empty or rows|length == 0 and headers %}
                        <tr>
                            <td colspan="{% if show_actions %}{{ headers|length|add:1 }}{% else %}{{ headers|length|default:5 }}{% endif %}" class="px-3 py-8">
                                {% include 'core/components/tables/table_empty.html' with message=empty_message %}
                            </td>
                        </tr>
                    {% endif %}
                {% endblock %}
            </tbody>
        </table>
    </div>
    
    {% if show_pagination %}
        {% include 'core/components/tables/pagination.html' %}
    {% endif %}
</div>








