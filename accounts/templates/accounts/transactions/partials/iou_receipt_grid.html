{% if receipts %}
    {% for receipt in receipts %}
    <tr id="receipt-row-{{ receipt.id }}">
        <td class="grid-cell" style="text-align: center;">
            <a href="#" class="btn-edit" onclick="editReceipt({{ receipt.id }}); return false;">Edit</a>
        </td>
        <td class="grid-cell" style="text-align: center;">
            <a href="#" class="btn-delete"
               hx-post="{% url 'accounts:iou-receipt-delete' receipt.id %}"
               hx-target="#receiptGridBody"
               hx-swap="innerHTML"
               hx-confirm="Are you sure you want to delete this receipt?"
               >Delete</a>
        </td>
        <td class="grid-cell" style="text-align: center;">{{ receipt.id }}</td>
        <td class="grid-cell" style="text-align: center;">{{ receipt.paymentdate }}</td>
        <td class="grid-cell">{{ receipt.empname }}</td>
        <td class="grid-cell">{{ receipt.reason_name }}</td>
        <td class="grid-cell">{{ receipt.narration }}</td>
        <td class="grid-cell" style="text-align: right;">{{ receipt.amount|floatformat:2 }}</td>
        <td class="grid-cell">
            <span class="receipt-amt-display">{{ receipt.recivedamt|default:""|floatformat:2 }}</span>
            <input type="number" class="receipt-amt-input" name="recivedamt" style="display:none;" 
                   value="{{ receipt.recivedamt|default:"" }}" step="0.01">
        </td>
        <td class="grid-cell">
            <span class="receipt-date-display">{{ receipt.receiptdate|default:"" }}</span>
            <input type="date" class="receipt-date-input" name="receiptdate" style="display:none;" 
                   value="{{ receipt.receiptdate|date:'Y-m-d'|default:"" }}">
        </td>
        <td class="grid-cell" style="text-align: center;">
            <button class="btn-add receipt-add-btn"
                    hx-post="{% url 'accounts:iou-receipt-add' receipt.id %}"
                    hx-include="closest tr"
                    hx-target="#receiptGridBody"
                    hx-swap="innerHTML"
                    style="display:none;">Add</button>
        </td>
    </tr>
    {% endfor %}
{% else %}
    <tr>
        <td colspan="11" class="grid-cell empty-row">No data to display!</td>
    </tr>
{% endif %}
